# 操作要求和规范

FISCO-BCOS 的节点是运行在 Linux 操作系统中，通过设定统一的操作要求和规范，可以尽最大程度减少线上人为操作失误，降低操作风险的同时，提升线上系统的安全性和稳定性。

## 文件操作
* 文件变动操作，比如 `mv`，`vim`，`rm`，尽量先备份，后修改
* 使用 `rm` 时必须再三确认，同时禁止使用 `rm -rf $FILE/`
* 重要文件添加不可更改位 `chattr +/- i filename`
* 使用 `crontab` 定时备份重要文件和数据
* 禁止使用 FTP 传输文件，使用 SFTP（`scp`）代替
    
## 服务
* 防火墙屏蔽无用端口，只开放 SSH 和必要的应用端口
    * 如果使用云服务，推荐使用云服务安全组功能
* SSH 服务**禁用密码登录**，改用密钥登录方式，并且由专人管理密钥
    
## 网络
* 只有需要外网连接的服务，才能监听回环地址 `0.0.0.0` 上，否则都监听 `127.0.0.1`
    
## 系统
* 由 `root` 分发不同的权限给对应用户，然后禁用 `root`，尽量不使用 `root` 启动服务。非必要情况下，以非 `root` 用户登录进行操作
* 监控服务器的状态，CPU，内存，磁盘，网络的使用量，如果使用量达到 80%，需要进行评估或者反馈
* 生产环境尽量使用自动工具或者脚本，减少人为操作，降低人为操作的风险
* 定期给系统打补丁，防止系统被漏洞攻击

```eval_rst
.. important::

    - 针对 `rm` 操作，推荐使用 safe-rm 工具，参考：`safe-rm <https://www.myfreax.com/safe-rm/>`_
    
```
